script_to_Cuneyt
================

Note: file names have to be matched exactly


script_to_Cuneyt

Notes for Penn PICSL Pipeline for Cuneyt Yilmaz and Connie Hsia’s Canine Data

PICSL Pipeline

Given the insp/exp lung CT files (in NIFTY format, .nii.gz) and the corresponding lung masks files, compute the deformation between inspiration and expiration through image registration. Stains are further computed from the resulting deformation fields. A .csv file is generated by collecting the statistics from different files.

1.	Binary programs
Some binary programs have precompiled binary versions. Others need to be compiled with ITKv4 from scratch.

1.1 ANTS
	http://www.picsl.upenn.edu/ANTS/
	binary available or compile from scratch

1.2	c3d
http://www.itksnap.org/pmwiki/pmwiki.php?n=Convert3D.Documentation
	binary available

1.3	Nick’s Utilities
 https://github.com/ntustison/Utilities
	Need ITKv4 to compile
	
2.	Scripts
Scripts of bash and perl are saved in

https://github.com/songgang/script_to_Cuneyt
under the folder cuneyt

3.	Execute Scripts (bash + perl)

3.0 Generate whole lung masks from Cuneyt's provided lobe masks, simply merging them into one file
batch_lung_convert_mask_Mar2013.sh

3.1 Batch registration + compute strain:
batch_cuneyt_jan2012_lung_registration_tmp.sh


It will iterate over a list of subjects. The subject list should be easily idetified in the begining of the script. For each subject, it will call 
cuneyt_jan2012_lung_registration_with_mask_tmp.sh

(This needs bash. You can run it on grid using qsub, or just one by one by changing the line containing "qsub" to its equivalent part like using "bash".)

3.2 After the batch is completed, call the follow script to collect all the numbers into .csv files.
	read_results.pl
(This needs perl.)

3.3 Convert deformation files to VTK
batch_lung_convert_deformation_field_to_vtk.sh

It will iterate over a list of subjects. For each subject, it will call
convert_deformation_field_to_vtk.sh


